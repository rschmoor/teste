// Script simples para testar middleware
console.log('ðŸ”’ Testando middleware...')
console.log('Use PowerShell para testar:')
console.log('')
console.log('# Teste 1: Acesso sem autenticaÃ§Ã£o (deve redirecionar)')
console.log('Invoke-WebRequest -Uri "http://localhost:3000/admin" -MaximumRedirection 0')
console.log('')
console.log('# Teste 2: Verificar se retorna 302/307 (redirecionamento)')
console.log('try { Invoke-WebRequest -Uri "http://localhost:3000/admin" -MaximumRedirection 0 } catch { $_.Exception.Response.StatusCode }')
console.log('')
console.log('# Teste 3: Ver para onde redireciona')
console.log('$response = try { Invoke-WebRequest -Uri "http://localhost:3000/admin" -MaximumRedirection 0 } catch { $_.Exception.Response }')
console.log('$response.Headers.Location')
console.log('')
console.log('Se o middleware estiver funcionando, vocÃª deve ver:')
console.log('- Status 302 ou 307 (redirecionamento)')
console.log('- Location header apontando para /auth/login')
console.log('')
console.log('Se estiver retornando 200 OK, o middleware nÃ£o estÃ¡ funcionando.')